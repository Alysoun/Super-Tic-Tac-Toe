<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Super Tic-Tac-Toe</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <h1>Super Tic-Tac-Toe</h1>
    <div class="player-indicator">
        <div id="player-x" class="player">
            <span class="player-symbol">X</span>
            <span class="player-name">Player</span>
            <span class="turn-indicator">ðŸ‘ˆ</span>
        </div>
        <div id="player-o" class="player">
            <span class="player-symbol">O</span>
            <span class="player-name">AI</span>
            <span class="turn-indicator">ðŸ‘ˆ</span>
        </div>
    </div>
    <div class="main-container">
        <button id="toggle-sidebar">Hide Sidebar</button>
        <div id="game-board" class="big-board"></div>
        <div class="sidebar" id="sidebar">
            <button id="help-button">How to Play</button>
            <button id="name-input-button">Enter Player Names</button>
            <div>
                <label for="ai-toggle">Play against AI:</label>
                <input type="checkbox" id="ai-toggle" checked>
            </div>
            <div>
                <label for="ai-difficulty">AI Difficulty:</label>
                <select id="ai-difficulty">
                    <option value="easy">Easy</option>
                    <option value="medium" selected>Medium</option>
                    <option value="hard">Hard</option>
                    <option value="impossible">Impossible</option>
                </select>
            </div>
            <div>
                <input type="radio" id="player-first" name="first-player" value="player" checked>
                <label for="player-first">Player Goes First</label>
            </div>
            <div>
                <input type="radio" id="random-first" name="first-player" value="random">
                <label for="random-first">Randomize First Player</label>
            </div>
            <div>
                <input type="radio" id="ai-first" name="first-player" value="ai">
                <label for="ai-first">AI Goes First</label>
            </div>
            <div>
                <label for="sound-toggle">Sound:</label>
                <input type="checkbox" id="sound-toggle" checked>
            </div>
            <button id="start-game-button">Start New Game</button>
            <div class="scoreboard" id="scoreboard">
                <p>Scoreboard:</p>
                <p id="player-x-score">Player X: 0</p>
                <p id="player-o-score">Player O: 0</p>
            </div>
            <button id="show-stats-button">Show Statistics</button>
        </div>
    </div>
    <div id="overlay"></div>
    <div id="help-text">
        <p>The game consists of a large 3x3 tic-tac-toe board, where each square contains its own smaller 3x3 board.</p>
        <p>Players take turns placing their symbol (X or O) in the small boards. The next player must play in the board that corresponds to the position of the last move.</p>
        <p>If a player wins a small board, they claim the corresponding large board square. If the next move points to a board that has already been won or tied, the player can choose any available square. The game is won when a player wins three large squares in a row, column, or diagonal.</p>
        <button id="close-help-button">Close</button>
    </div>
    <div id="name-input-text">
        <p>Enter Player Names:</p>
        <div>
            <label for="player-x-name-modal">Player X Name:</label>
            <input type="text" id="player-x-name-modal" placeholder="Player X">
        </div>
        <div>
            <label for="player-o-name-modal">Player O Name:</label>
            <input type="text" id="player-o-name-modal" placeholder="Player O">
        </div>
        <button id="save-names-button">Save</button>
    </div>
    <div id="confetti-container"></div>
    <div id="stats-modal" class="modal">
        <div class="modal-content">
            <h2>Game Statistics</h2>
            <div id="stats-content" class="stats-grid">
                <div class="stats-row difficulty-row">
                    <div class="stats-cell"></div>
                    <div class="stats-cell">Easy</div>
                    <div class="stats-cell">Medium</div>
                    <div class="stats-cell">Hard</div>
                    <div class="stats-cell">Impossible</div>
                </div>
                <div class="stats-row">
                    <div class="stats-cell">Wins</div>
                    <div class="stats-cell" id="easy-wins">0</div>
                    <div class="stats-cell" id="medium-wins">0</div>
                    <div class="stats-cell" id="hard-wins">0</div>
                    <div class="stats-cell" id="impossible-wins">0</div>
                </div>
                <div class="stats-row">
                    <div class="stats-cell">Losses</div>
                    <div class="stats-cell" id="easy-losses">0</div>
                    <div class="stats-cell" id="medium-losses">0</div>
                    <div class="stats-cell" id="hard-losses">0</div>
                    <div class="stats-cell" id="impossible-losses">0</div>
                </div>
                <div class="stats-row">
                    <div class="stats-cell">Ties</div>
                    <div class="stats-cell" id="easy-ties">0</div>
                    <div class="stats-cell" id="medium-ties">0</div>
                    <div class="stats-cell" id="hard-ties">0</div>
                    <div class="stats-cell" id="impossible-ties">0</div>
                </div>
            </div>
            <div class="button-container">
                <button id="reset-stats-button">Reset Statistics</button>
                <button id="close-stats-button">Close</button>
            </div>
        </div>
    </div>
    <script src="script.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@latest"></script>
</body>
</html>